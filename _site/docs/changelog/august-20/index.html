<!doctype html><html data-theme=light lang=en><script>const root=document.firstElementChild;const mediaQuery="(prefers-color-scheme: dark)";const mediaMatch=window.matchMedia;const currentMode=mediaMatch(mediaQuery).matches;const storeTheme=a=>{if("boolean"===typeof a){a=a?"dark":"light"};root.setAttribute("data-theme",a);localStorage.setItem("data-theme",a)};const storedTheme="data-theme" in localStorage?localStorage.getItem("data-theme"):currentMode;storedTheme&&storeTheme(storedTheme)</script><meta charset=UTF-8><meta content="IE=edge"http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0"name=viewport><title>v1.4 - cheetah</title><meta content="light dark"name=supported-color-schemes><link crossorigin=anonymous href=https://cdn.jsdelivr.net rel=preconnect><link crossorigin=anonymous href=https://cdn.jsdelivr.net rel=dns-prefetch><link href=https://fonts.googleapis.com rel=preconnect><link href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;0,600;1,400;1,600&family=Work+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap"rel=stylesheet><style>:root{--font-display:"Work Sans",var(--font-ui);--font-ui:"Work Sans",sans-serif;--font-code:"JetBrains Mono",monospace;--text-display-size:clamp(30px,10vw,75px);--text-display-height:.95;--text-display:700 var(--text-display-size)/var(--text-display-height)var(--font-display);--text-display-spacing:-.045em;--text-heading-size:clamp(20px,8vw,50px);--text-heading:700 var(--text-heading-size)/1.1 var(--font-display);--text-heading-spacing:-.03em;--text-title-size:clamp(20px,6vw,30px);--text-title:600 var(--text-title-size)/1.2 var(--font-display);--text-title-spacing:-.03em;--text-body-size:clamp(16px,4vw,20px);--text-body:var(--text-body-size)/1.65 var(--font-ui);--text-body-bold:600 var(--text-body-size)/1.6 var(--font-ui);--text-body-spacing:-.02em;--text-caption:15px/1.6 var(--font-ui);--text-caption-bold:600 15px/1.6 var(--font-ui);--text-caption-mini:13px/1.6 var(--font-ui);--text-caption-mini-bold:600 13px/1.6 var(--font-ui);--text-code:16px/1.6 var(--font-code);--color-red-400:#933;--color-red-500:#bf4040;--color-red-600:#e05252;--color-white:#fff;--color-white-alpha:rgba(255,255,255,.9);--color-black-970:#f6f8f9;--color-black-930:#eaeef1;--color-black-860:#d4dee2;--color-black-650:#94acb8;--color-black-350:#475f6b;--color-black-240:#314149;--color-black-180:#253137;--color-black-140:#1d262b;--color-black-100:#141b1f;--color-black-100-alpha:rgba(20,27,31,.9);--color-yellow-800:#f5e7a3;--color-yellow-750:#f2e18c;--color-yellow-200:#5c4e0a;--color-brown-600:#a3a08f;--color-brown-160:#2d2c25;--color-brown-200:#38362e;--border-radius-small:5px;--border-radius:10px;--animation-duration:.2s;--margin:max(25px,5vw);--max-width:1200px;--column-gap-0:10px;--column-gap-1:25px;--column-gap-2:50px;--column-gap-3:100px;--row-gap-0:25px;--row-gap-1:clamp(20px,5vh,50px);--row-gap-2:clamp(40px,10vh,100px);--row-gap-3:clamp(60px,15vh,150px);--row-gap-4:clamp(80px,20vh,200px);--color-primary:#f2ad88;--color-primary-1:var(--red12);--color-foreground:var(--gray12);--color-foreground-1:var(--gray11);--color-background:var(--gray1);--color-background-a:var(--gray3);--color-background-1:var(--gray2);--color-background-2:var(--gray4);--color-background-3:var(--gray5)}::selection{background:var(--gray5);color:var(--gray12);filter:brightness(2)}:root.no-motion{--animation-duration:0s}:root[data-theme=light]{color-scheme:light;--gray1:#fcfcfc;--gray2:#f8f8f8;--gray3:#f3f3f3;--gray4:#ededed;--gray5:#e8e8e8;--gray6:#e2e2e2;--gray7:#dbdbdb;--gray8:#c7c7c7;--gray9:#8f8f8f;--gray10:#858585;--gray11:#6f6f6f;--gray12:#171717;--red1:#fffcfc;--red2:#fff8f8;--red3:#ffefef;--red4:#ffe5e5;--red5:#fdd8d8;--red6:#f9c6c6;--red7:#f3aeaf;--red8:#eb9091;--red9:#e5484d;--red10:#dc3d43;--red11:#cd2b31;--red12:#381316}:root[data-theme=dark]{color-scheme:dark;--gray1:#161616;--gray2:#1c1c1c;--gray3:#232323;--gray4:#282828;--gray5:#2e2e2e;--gray6:#343434;--gray7:#3e3e3e;--gray8:#505050;--gray9:#707070;--gray10:#7e7e7e;--gray11:#a0a0a0;--gray12:#ededed;--red1:#1f1315;--red2:#291415;--red3:#3c181a;--red4:#481a1d;--red5:#541b1f;--red6:#671e22;--red7:#822025;--red8:#aa2429;--red9:#e5484d;--red10:#f2555a;--red11:#ff6369;--red12:#feecee}html{scroll-behavior:smooth;scroll-padding-top:120px}body{font-family:var(--font-ui);color:var(--color-foreground);background:var(--color-background);min-height:100vh;min-width:320px;grid-template-rows:auto 1fr auto;margin:0;display:grid}a{color:var(--color-primary)}a:hover{text-decoration:none}code,pre{font:var(--text-code);letter-spacing:0;font-variant-ligatures:none;margin:0}pre{overflow-x:auto}:is(h2,h3,h4) code{font-size:.8em}table{width:100%}th{text-align:left;background:var(--color-background-2);font:var(--text-caption-bold);padding:5px 10px}td{border-bottom:solid 1px var(--color-background-2);padding:5px 10px}td code{white-space:nowrap}:not(:defined){visibility:hidden}@media (prefers-reduced-motion){:root{--animation-duration:0s}}</style><link href=/styles/main.css rel=stylesheet><link href=https://cheetah.mod.land/docs/changelog/august-20/ rel=canonical><link href=/styles/pages/docs.css rel=stylesheet><script src=/main.js type=module></script><link href=/cheetah.ico rel=icon type=image/x-icon><meta content=website property=og:type><meta content=v1.4 property=og:title><meta content=https://cheetah.mod.land/docs/changelog/august-20/ property=og:url><meta content=https://cheetah.mod.land/cheetah.svg property=og:image><meta content=v1.4 name=twitter:title><meta content=summary_large_image name=twitter:card><meta content=https://cheetah.mod.land/cheetah.svg name=twitter:image><meta content=v1.4 itemprop=name><meta content=https://cheetah.mod.land/cheetah.svg itemprop=image><meta content="Lume v1.17.4"name=generator><body><nav class=navbar-container><div class=navbar><a aria-label="Return home"class=navbar-logo href=/> <span>cheetah v1.5</span> </a><ul class=navbar-menu><li><a href=/> Home </a><li><a class=is-selected href=/docs/setup/getting-started/> Documentation </a><li><a href=https://discord.gg/2rCya9EWGv target=”_blank”> Discord </a><li><a href=https://github.com/boywithkeyboard/cheetah target=”_blank”> GitHub </a><li><a href=https://github.com/sponsors/boywithkeyboard target=”_blank”> Become a Sponsor </a></ul></div></nav><div><div class=doc><nav class=doc-navbar><details class=doc-navbar-section><summary><span class=doc-navbar-section-title>Setup</span></summary> <ul class=doc-navbar-section-links><li><a href=/docs/setup/getting-started/>Getting Started</a><li><a href=/docs/setup/deno/>Deno</a><li><a href=/docs/setup/cloudflare-workers/>Cloudflare Workers</a></ul></details><details class=doc-navbar-section open><summary><span class=doc-navbar-section-title>What's New</span></summary> <ul class=doc-navbar-section-links><li><a href=/docs/changelog/july-16/>v1.0</a><li><a href=/docs/changelog/july-20/>v1.1</a><li><a href=/docs/changelog/august-6/>v1.2</a><li><a href=/docs/changelog/august-14/>v1.3</a><li><a aria-current=page href=/docs/changelog/august-20/>v1.4</a></ul></details><details class=doc-navbar-section><summary><span class=doc-navbar-section-title>Configuration</span></summary> <ul class=doc-navbar-section-links><li><a href=/docs/configuration/base/>Base</a><li><a href=/docs/configuration/preflight-mode/>Preflight Mode</a><li><a title="Configure CORS for your application."href=/docs/configuration/cors/>CORS</a><li><a title="Optionally, you can customize error messages."href=/docs/configuration/custom-error-pages/>Custom Error Pages</a><li><a href=/docs/configuration/proxy/>Proxy</a></ul></details><details class=doc-navbar-section><summary><span class=doc-navbar-section-title>API</span></summary> <ul class=doc-navbar-section-links><li><a href=/docs/api/request/>Request</a><li><a href=/docs/api/multiple-handlers/>Multiple Handlers</a><li><a href=/docs/api/response/>Response</a><li><a href=/docs/api/validation/>Validation & Parsing</a><li><a href=/docs/api/routing/>Routing</a><li><a href=/docs/api/exception/>Exception</a><li><a href=/docs/api/create-extension/>Create Extension</a><li><a href=/docs/api/use-extension/>Use Extension</a><li><a href=/docs/api/oauth/>OAuth</a></ul></details><details class=doc-navbar-section><summary><span class=doc-navbar-section-title>Extensions</span></summary> <ul class=doc-navbar-section-links><li><a title="This extension is based on [express.js' helmet](https://github.com/helmetjs/helmet)."href=/docs/extensions/helmet/>helmet</a><li><a title="An extension to compress the body of the response with [Brotli](https://github.com/google/brotli), [gzip](https://www.gzip.org), or [deflate](https://www.ietf.org/rfc/rfc1951.txt), based on the `Accept-Encoding` header of the incoming request."href=/docs/extensions/compress/>compress</a><li><a title="An extension to log every response (that didn't throw an exception)."href=/docs/extensions/debug/>debug</a><li><a title="An extension to set a neat [favicon](https://en.wikipedia.org/wiki/Favicon) for your app."href=/docs/extensions/favicon/>favicon</a><li><a title="An extension to jazz up the response body by adding indentation and sorting the keys alphabetically."href=/docs/extensions/pretty/>pretty</a><li><a title="An extension to serve static files from Cloudflare R2 or the local file system."href=/docs/extensions/files/>files</a></ul></details><details class=doc-navbar-section><summary><span class=doc-navbar-section-title>Accessories</span></summary> <ul class=doc-navbar-section-links><li><a href=/docs/accessories/cache/>Cache</a><li><a href=/docs/accessories/jsx/>jsx</a><li><a title="Inspect the geolocation data of the incoming request."href=/docs/accessories/location-data/>LocationData</a><li><a href=/docs/accessories/jwt/>jwt</a><li><a href=/docs/accessories/send-email/>sendMail</a><li><a href=/docs/accessories/otp/>otp</a></ul></details></nav><main class=doc-content><header class=doc-header><h1>v1.4</h1><nav class=toc><ol><li><a href=#new-c.res.setcookie()-%26-c.res.deletecookie()-methods>New c.res.setCookie() & c.res.deleteCookie() methods</a><li><a href=#new-c.exception()-method>New c.exception() method</a><li><a href=#new-c.dev-variable>New c.dev variable</a><li><a href=#new-c.env()-method>New c.env() method</a><li><a href=#new-encrypt()-%26-decrypt()-methods>New encrypt() & decrypt() methods</a><li><a href=#new-jsx-renderer>New JSX renderer</a><li><a href=#versioning-is-now-available-for-your-api>Versioning is now available for your API</a><li><a href=#option-to-add-a-validation-schema-for-c.req.param()>Option to add a validation schema for c.req.param()</a><li><a href=#all-accessories-are-now-available-in-the-root-directory>All accessories are now available in the root directory</a></ol></nav></header><div class=doc-body><h2 id=new-c.res.setcookie()-%26-c.res.deletecookie()-methods tabindex=-1><a class=header-anchor href=#new-c.res.setcookie()-%26-c.res.deletecookie()-methods>New <code>c.res.setCookie()</code> & <code>c.res.deleteCookie()</code> methods</a></h2><p>Please use <code>c.res.setCookie()</code> instead of <code>c.res.cookie()</code>.<h2 id=new-c.exception()-method tabindex=-1><a class=header-anchor href=#new-c.exception()-method>New <code>c.exception()</code> method</a></h2><p>As the original <code>Exception</code> class was already used internally in cheetah's core, it only made sense to move a enhanced variant of this method to the context object.<h2 id=new-c.dev-variable tabindex=-1><a class=header-anchor href=#new-c.dev-variable>New <code>c.dev</code> variable</a></h2><p>If you run your app through the new <code>cheetah serve</code> command or enable the <code>debug</code> option for your app, this variable will be automatically set to <code>true</code>.<h2 id=new-c.env()-method tabindex=-1><a class=header-anchor href=#new-c.env()-method>New <code>c.env()</code> method</a></h2><p>This method gives you a much better way to retrieve environment variables across runtimes.<h2 id=new-encrypt()-%26-decrypt()-methods tabindex=-1><a class=header-anchor href=#new-encrypt()-%26-decrypt()-methods>New <code>encrypt()</code> & <code>decrypt()</code> methods</a></h2><p>Encrypting and decrypting messages has never been easier.<h2 id=new-jsx-renderer tabindex=-1><a class=header-anchor href=#new-jsx-renderer>New JSX renderer</a></h2><pre><code class="language-tsx hljs language-typescript"><span class=hljs-keyword>import</span> cheetah, { <span class="hljs-title class_">Renderer</span> } <span class=hljs-keyword>from</span> <span class=hljs-string>'https://deno.land/x/cheetah@v1.4.0/mod.ts'</span>

<span class=hljs-keyword>const</span> { render } = <span class=hljs-keyword>new</span> <span class="hljs-title class_">Renderer</span>()

<span class=hljs-keyword>const</span> app = <span class=hljs-keyword>new</span> <span class="hljs-title function_">cheetah</span>()
  .<span class="hljs-title function_">get</span>(<span class=hljs-string>'/'</span>, <span class=hljs-function><span class=hljs-params>c</span> =></span> {
    <span class=hljs-keyword>const</span> <span class="hljs-title function_">Hello</span> = (<span class=hljs-params></span>) => {
      <span class=hljs-keyword>return</span> <span class=language-xml><span class=hljs-tag><<span class=hljs-name>p</span>></span>Hello, world!<span class=hljs-tag>&LT/<span class=hljs-name>p</span>></span></span>
    }

    <span class="hljs-title function_">render</span>(<span class=language-xml><span class=hljs-tag><<span class=hljs-name>Hello</span> /></span></span>)
  })

  .<span class="hljs-title function_">serve</span>()
</code></pre><p>Under the hood, this module leverages <a href=https://twind.dev>twind</a> for styling your components.<h2 id=versioning-is-now-available-for-your-api tabindex=-1><a class=header-anchor href=#versioning-is-now-available-for-your-api>Versioning is now available for your API</a></h2><pre><code class="language-ts hljs language-typescript"><span class=hljs-keyword>import</span> cheetah <span class=hljs-keyword>from</span> <span class=hljs-string>'https://deno.land/x/cheetah@v1.4.0/mod.ts'</span>

<span class=hljs-keyword>const</span> app = <span class=hljs-keyword>new</span> <span class="hljs-title function_">cheetah</span>({
  <span class=hljs-attr>versioning</span>: {
    <span class=hljs-attr>current</span>: <span class=hljs-string>'v4'</span>,
    <span class=hljs-attr>type</span>: <span class=hljs-string>'uri'</span>
  }
})
  .<span class="hljs-title function_">get</span>(<span class=hljs-string>'/'</span>, {
    <span class=hljs-attr>gateway</span>: <span class=hljs-string>'> v2'</span>
  }, <span class=hljs-function><span class=hljs-params>c</span> =></span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(c.<span class=hljs-property>gateway</span>) <span class=hljs-comment>// 3 | 4</span>
  })

  .<span class="hljs-title function_">serve</span>()
</code></pre><h2 id=option-to-add-a-validation-schema-for-c.req.param() tabindex=-1><a class=header-anchor href=#option-to-add-a-validation-schema-for-c.req.param()>Option to add a validation schema for <code>c.req.param()</code></a></h2><pre><code class="language-ts hljs language-typescript"><span class=hljs-keyword>import</span> { z } <span class=hljs-keyword>from</span> <span class=hljs-string>'https://deno.land/x/zod@v3.22.2/mod.ts'</span>

app.<span class="hljs-title function_">get</span>(<span class=hljs-string>'/users/:username'</span>, {
  <span class=hljs-attr>params</span>: {
    <span class=hljs-attr>username</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">min</span>(<span class=hljs-number>4</span>).<span class="hljs-title function_">max</span>(<span class=hljs-number>16</span>)
  }
}, <span class=hljs-function><span class=hljs-params>c</span> =></span> {
  <span class=hljs-keyword>const</span> username = c.<span class=hljs-property>req</span>.<span class="hljs-title function_">param</span>(<span class=hljs-string>'username'</span>) <span class=hljs-comment>// retrieve the validated username</span>

  <span class=hljs-comment>// do something</span>
})
</code></pre><h2 id=all-accessories-are-now-available-in-the-root-directory tabindex=-1><a class=header-anchor href=#all-accessories-are-now-available-in-the-root-directory>All accessories are now available in the root directory</a></h2><p>The x/ directory has been deprecated & the new modules might differ a bit in their format.<p>Please import all the utility features directly from the main file, e.g. the <code>LocationData</code> class:<pre><code class="language-ts hljs language-typescript"><span class=hljs-keyword>import</span> { <span class="hljs-title class_">LocationData</span> } <span class=hljs-keyword>from</span> <span class=hljs-string>'https://deno.land/x/cheetah@v1.4.0/mod.ts'</span>
</code></pre></div><footer class=doc-footer><ul class=doc-pagination><li class=is-prev><a href=/docs/changelog/august-14/ rel=prev> ← Previous <strong>v1.3</strong> </a><li class=is-next><a href=/docs/configuration/base/ rel=next> Next → <strong>Base</strong> </a></ul></footer></main></div></div><div class=footer-container><footer class=footer><p class=footer-copyright>©2023 the cheetah authors — <button title="Toggle light & dark theme"aria-label=auto aria-live=polite class=button-theme id=switch-theme><span class=is-light>Light theme</span> <span class=is-dark>Dark theme</span></button></footer></div><script>window.addEventListener('DOMContentLoaded',()=>{document.getElementById("switch-theme").addEventListener("click",a=>{const b=localStorage.getItem("data-theme")=="light"||getComputedStyle(root).getPropertyValue("color-scheme")=="light";storeTheme(!!b)});mediaMatch(mediaQuery).addEventListener("change",a=>{storeTheme(a.matches)})},false)</script>